<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transparency Hub - Social Media Policy Analysis</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Mobile-specific sections (hidden on desktop) -->
    <div class="mobile-only-content">
        <!-- Mobile Q1 - Grade Level -->
        <section id="q1_mobile" class="section mobile-viz">
            <h2>Q1 · Grade Level by Company</h2>
            <p>Reading difficulty comparison across major social media platforms, showing the estimated U.S. grade level needed to comprehend each platform's privacy policy.</p>
            <iframe src="visualizations/q1_html/q1_grade_level_by_company.html?v=3" class="visualization-frame"></iframe>
        </section>

        <!-- Mobile Q2 - Opt-in Ratio -->
        <section id="q2_mobile" class="section mobile-viz">
            <h2>Q2 · Opt-in Ratio by Company</h2>
            <p>Comparing opt-in to opt-out language ratio across different social media platforms, revealing which companies prioritize explicit user consent.</p>
            <iframe src="visualizations/q2_html/q2_opt_in_ratio_by_company.html?v=3" class="visualization-frame"></iframe>
        </section>

        <!-- Mobile Q6 - Document Type Distribution -->
        <section id="q6_mobile_doc" class="section mobile-viz">
            <h2>Q6 · Document Type Distribution</h2>
            <p>How "Old School" vs "New School" platforms structure their policy documentation across Terms of Service, Privacy Policies, and Community Guidelines.</p>
            <iframe src="visualizations/q6_html/doc_type_mix.html?v=3" class="visualization-frame"></iframe>
        </section>

        <!-- Mobile Q6 - Phrase Usage -->
        <section id="q6_mobile_phrase" class="section mobile-viz">
            <h2>Q6 · Phrase Usage Comparison</h2>
            <p>Examining how frequently specific key phrases appear in Old School versus New School platform policies, revealing generational differences.</p>
            <iframe src="visualizations/q6_html/phrase_rates_group.html?v=3" class="visualization-frame"></iframe>
        </section>

        <!-- Mobile Q7 - Arbitration -->
        <section id="q7_mobile" class="section mobile-viz">
            <h2>Q7 · Arbitration Clauses</h2>
            <p>Analyzing mandatory arbitration clauses and their prevalence across platforms, showing which platforms impose more restrictive legal barriers.</p>
            <iframe src="visualizations/q7_html/arbitration_count.html?v=3" class="visualization-frame"></iframe>
        </section>
    </div>

    <!-- Header -->
    <div class="header">
        <div class="header-content">
            <h1>Transparency Hub Analytics</h1>
            <p>Comprehensive Analysis of Social Media Platform Policies</p>
        </div>
    </div>

    <!-- TOC Nav – points by question -->
    <div class="nav-container">
        <div class="nav">
            <a class="nav-item active" href="#overview">Overview</a>
            <a class="nav-item desktop-only" href="#q1">Q1: Length & Complexity</a>
            <a class="nav-item mobile-only" href="#q1_mobile">Q1: Grade Level</a>
            <a class="nav-item desktop-only" href="#q2">Q2: Explicit Opt-in & Opt-out</a>
            <a class="nav-item mobile-only" href="#q2_mobile">Q2: Opt-in Ratio</a>
            <a class="nav-item desktop-only" href="#q3">Q3: Most Frequent Terms</a>
            <a class="nav-item desktop-only" href="#q4">Q4: Political Influences</a>
            <a class="nav-item desktop-only" href="#q5">Q5: Policy Complexity</a>
            <a class="nav-item desktop-only" href="#q6">Q6: Platform Comparison</a>
            <a class="nav-item mobile-only" href="#q6_mobile_doc">Q6: Doc Types</a>
            <a class="nav-item mobile-only" href="#q6_mobile_phrase">Q6: Phrase Usage</a>
            <a class="nav-item desktop-only" href="#q7">Q7: Arbitration</a>
            <a class="nav-item mobile-only" href="#q7_mobile">Q7: Arbitration</a>
            <a class="nav-item desktop-only" href="#q8">Q8: Class Action</a>
        </div>
    </div>

    <div class="container">
        <!-- Overview -->
        <section id="overview" class="section">
            <h2>Project Overview</h2>
            <p>
                This dashboard presents a comprehensive analysis of social media platform policies, examining
                <span class="highlight">readability</span>,
                <span class="highlight">complexity</span>, and differences between
                <span class="highlight">Old School</span> and
                <span class="highlight">New School</span> platforms.
            </p>

            <div class="overview-grid">
                <a href="#q1">
                    <div class="overview-card">
                        <h3>Q1: Length & Complexity Over Time<span class="badge">Interactive</span></h3>
                        <p>Word count, sentence length, and readability metrics to show how privacy policies have grown in length and complexity over the years.</p>
                    </div>
                </a>
                <a href="#q2">
                    <div class="overview-card">
                        <h3>Q2: Explicit Opt-in vs Opt-out<span class="badge">Consent Design</span></h3>
                        <p>How often companies use explicit opt-in versus opt-out language, and how these consent choices differ across organizations and over time.</p>
                    </div>
                </a>
                <a href="#q3">
                    <div class="overview-card">
                        <h3>Q3: Most Frequent Terms & Templates<span class="badge">Text Mining</span></h3>
                        <p>“Most common terms and phrases in privacy policies, plus evidence of “copy-paste” or shared template language across organizations in the same group.</p>
                    </div>
                </a>
                <a href="#q4">
                    <div class="overview-card">
                        <h3>Q4: Political Influences on Policy<span class="badge">Election Impact</span></h3>
                        <p>How major political events (2016 and 2024 elections) align with changes in privacy policies, and which companies showed the largest shifts before and after these moments.</p>
                    </div>
                </a>
                <a href="#q5">
                    <div class="overview-card">
                        <h3>Q5: Spiciest Policy Language<span class="badge">Superlatives</span></h3>
                        <p>Surprising, extreme, or especially user-unfriendly (and user-friendly) phrases—highlighting the “spiciest” clauses and standout pro-user protections.</p>
                    </div>
                </a>
                <a href="#q6">
                    <div class="overview-card">
                        <h3>Q6: Old vs New School Platforms<span class="badge">Cohort Focus</span></h3>
                        <p>Comparing “old school” vs. “new school” platforms (e.g., Tumblr vs. TikTok) on document types, clause prevalence, and how their privacy policies have evolved.</p>
                    </div>
                </a>
                <a href="#q7">
                    <div class="overview-card">
                        <h3>Q7: Mandatory Arbitration Clauses<span class="badge">Dispute Resolution</span></h3>
                        <p>Which policies include mandatory arbitration, what those clauses entail, and a severity scale comparing how restrictive different companies’ arbitration terms are.</p>
                    </div>
                </a>
                <a href="#q8">
                    <div class="overview-card">
                        <h3>Q8: Class Action Prohibitions<span class="badge">Litigation Limits</span></h3>
                        <p>Tracking the adoption of class action waivers over time (e.g., 2010–present), and how strongly different policies restrict users’ ability to join class lawsuits.</p>
                    </div>
                </a>
            </div>
        </section>

        <!-- Desktop-only content (hidden on mobile) -->
        <div class="desktop-only-content">
        <!-- Invisible anchors for question starts (no visible "section starters") -->
        <div id="q1"></div>

        <!-- Q1 SLIDES -->
        <section id="q1_complexity" class="section section-viz">
            <h2>Q1 · Policy Complexity Over Time</h2>
            <p>This visualization tracks how the complexity of privacy policies has evolved from 2016 to 2025, using readability metrics like Flesch-Kincaid Grade Level. The chart reveals a concerning trend: policies have become significantly harder to read over time, with most platforms now requiring college-level reading skills. Notice how regulatory events like GDPR (2018) and CCPA (2020) correlate with spikes in complexity, as companies added legal compliance language that made policies less accessible to average users.</p>
            <h3 class="subheading">Complexity Over Time</h3>
            <iframe src="visualizations/q1_html/q1_complexity_over_time.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q1_grade" class="section section-viz">
            <h2>Q1 · Grade Level by Company</h2>
            <p>This chart compares the reading difficulty across major social media platforms, showing the estimated U.S. grade level needed to comprehend each platform's privacy policy. Most platforms require 12th grade to college-level reading skills, making them inaccessible to many users. Platforms like LinkedIn and Facebook consistently rank among the most complex, while newer platforms like TikTok show slightly more readable policies. The color coding helps identify which platforms are prioritizing user accessibility versus legal complexity.</p>
            <h3 class="subheading">Grade Level Analysis</h3>
            <iframe src="visualizations/q1_html/q1_grade_level_by_company.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q1_length_vs_readability" class="section section-viz">
            <h2>Q1 · Length vs Readability</h2>
            <p>This scatter plot explores whether longer privacy policies are inherently harder to understand. Each point represents a policy document, with word count on the x-axis and reading difficulty on the y-axis. The data reveals a moderate positive correlation: longer policies do tend to be more complex, but there are notable exceptions. Some platforms manage to create comprehensive yet readable policies, while others pack complexity into shorter documents. The trend line and color coding help identify outliers and best practices for balancing thoroughness with accessibility.</p>
            <h3 class="subheading">Length vs Readability Correlation</h3>
            <iframe src="visualizations/q1_html/q1_length_vs_readability.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q1_word_count" class="section section-viz">
            <h2>Q1 · Word Count Evolution</h2>
            <p>This temporal analysis shows the dramatic growth in privacy policy length over nearly a decade. Most platforms have doubled or tripled their policy word counts since 2016, driven by regulatory requirements, feature expansion, and legal risk management. The interactive timeline allows you to see how specific events (like GDPR implementation) triggered policy expansions across the industry. Some platforms show steady growth, while others exhibit sudden jumps during regulatory periods, revealing different approaches to policy management and user communication.</p>
            <h3 class="subheading">Word Count Over Time</h3>
            <iframe src="visualizations/q1_html/q1_word_count_over_time.html?v=3" class="visualization-frame"></iframe>
        </section>

        <div id="q2"></div>

        <section id="q2_opt_in_ratio_company" class="section section-viz">
            <h2>Q2 · Opt-in Ratio by Company</h2>
            <p>This chart compares the opt-in to opt-out language ratio across different social media platforms, revealing which companies prioritize explicit user consent versus default permissions. Companies with higher ratios use more opt-in language, giving users clearer choices about data collection. The visualization helps identify which platforms follow privacy-by-design principles versus those that rely on user inaction for data collection permissions.</p>
            <h3 class="subheading">Company-by-Company Opt-in Analysis</h3>
            <iframe src="visualizations/q2_html/q2_optin_percentage.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q2_opt_in_ratio_time" class="section section-viz">
            <h2>Q2 · Opt-in Ratio Over Time</h2>
            <p>This temporal analysis shows how the balance between opt-in and opt-out language has shifted across the industry from 2016 to 2025. The timeline reveals key inflection points where regulatory pressure (especially GDPR in 2018) drove platforms to adopt more explicit consent language. Notice how the overall trend moves toward higher opt-in ratios, indicating growing emphasis on user choice and transparency in data collection practices.</p>
            <h3 class="subheading">Temporal Opt-in Trends</h3>
            <iframe src="visualizations/q2_html/q2_optin_ratio_over_time.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q2_opt_in_vs_opt_out" class="section section-viz">
            <h2>Q2 · Explicit Opt-in and Opt-out Language</h2>
            <p>This side-by-side comparison directly contrasts how platforms present consent choices to users. The visualization breaks down the specific frequency of clear opt-in language ("you can choose to...") versus opt-out mechanisms ("you may disable..."). This analysis reveals the user experience design philosophy of each platform - whether they make data collection the default or require active user participation in data sharing decisions.</p>
            <h3 class="subheading">Direct Consent Language Comparison</h3>
            <iframe src="visualizations/q2_html/q2_optin_optout_by_company.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q2_radar" class="section section-viz">
            <h2>Q2 · Privacy Control Radar</h2>
            <p>This radar chart provides a multidimensional view of each platform's privacy control offerings across different categories like data access, deletion rights, consent granularity, and transparency measures. The larger the area covered by a platform's shape, the more comprehensive their privacy controls. This visualization makes it easy to compare platforms holistically and identify leaders in user privacy empowerment versus those with more limited control options.</p>
            <h3 class="subheading">Multidimensional Privacy Control Assessment</h3>
            <iframe src="visualizations/q2_html/q2_privacy_control_radar.html?v=3" class="visualization-frame"></iframe>
        </section>


        <div id="q3"></div>

        <section id="q3_most_common" class="section section-viz">
            <h2>Q3 · Most Frequent Words</h2>
            <p>This word frequency analysis reveals the most common single words across all privacy policies, terms of service, and community guidelines from major social media platforms. The horizontal bar chart displays the top 20 most frequent terms, with "Services," "Use," and "Terms" appearing most often across documents. The consistent appearance of legal and procedural terms like "Agreement," "Rights," and "Account" reflects the standardized nature of platform governance documents. This visualization provides insight into the core vocabulary that shapes how platforms communicate policies to users.</p>
            <h3 class="subheading">Single Word Frequency Analysis</h3>
            <iframe src="visualizations/q3_html/most_common_terms.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q3_shared_phrases" class="section section-viz">
            <h2>Q3 · Top Shared Phrases by Application Group</h2>
            <p>This interactive visualization examines 2-5 word phrases shared within and across three platform categories: Social Networking (Facebook/Meta, LinkedIn, Twitter/X), Video & Streaming (YouTube, TikTok, Snapchat), and Messaging & Communication (WhatsApp, WeChat, Telegram). The chart displays the most frequent phrases for each category across Privacy Policies, Terms of Service, and Guidelines, with section labels on the right identifying each application group. This reveals both industry-specific terminology and common legal language that transcends platform types, with dropdown navigation allowing comparison across different document types.</p>
            <h3 class="subheading">Multi-Word Phrase Analysis by Platform Category</h3>
            <iframe src="visualizations/q3_html/shared_phrases.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q3_similarity_heatmap" class="section section-viz">
            <h2>Q3 · Textual Similarity Heatmap</h2>
            <p>This lower-triangle heatmap visualizes the textual similarity between privacy and terms documents across 9 major platforms using cosine similarity scores. Darker teal colors indicate higher similarity, while lighter shades and white represent lower similarity or unique policy language. The analysis reveals which platform pairs share the most similar policy language—for example, TikTok and Twitter/X show notably high similarity at 0.52, while platforms like Telegram show consistently lower similarity with others, suggesting more distinctive policy approaches. This visualization helps identify patterns of template sharing, corporate family relationships, and platforms with truly original policy frameworks.</p>
            <h3 class="subheading">Cross-Platform Language Similarity</h3>
            <iframe src="visualizations/q3_html/similarity_heatmap.html?v=3" class="visualization-frame"></iframe>
        </section>

        <div id="q4"></div>
        
        <section id="q4_comp_timeseries" class="section section-viz">
            <h2>Q4 · Policy Change Over Time</h2>
            <p>This interactive timeline tracks the average magnitude of policy document changes (measured as 1 - cosine similarity) for nine major platforms from 2005 to 2025. The dropdown menu allows highlighting of individual platforms, with the selected platform shown in teal and all others in grey for comparison. The y-axis represents the degree of textual change between consecutive document versions, where higher values indicate more substantial rewrites. The visualization reveals platform-specific patterns in policy evolution—for instance, Facebook/Meta shows consistent policy iteration throughout the 2010s with notable peaks around 2012 and 2024, while other platforms exhibit different update frequencies and intensities. This comparative view helps identify which platforms maintain stable policy language versus those that frequently revise their governance documents. The chart also reveals which companies are reactive (changing policies immediately after events) versus proactive (updating policies in anticipation). Notice the clustering of updates around major political transitions and regulatory deadlines.</p>
            <h3 class="subheading">Temporal Patterns in Policy Document Evolution</h3>
            <iframe src="visualizations/q4_html/company_timeseries.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q4_group_dist" class="section section-viz">
            <h2>Q4 · Policy Change by Platform Type</h2>
            <p>This box-and-whisker plot compares the distribution of policy change magnitudes across three platform categories—Dating, Social, and Messaging—for elections in 2016, 2020, and 2024. The y-axis shows Δ (delta), representing the difference in average policy change between 180 days after versus 180 days before each election. Positive values indicate increased policy volatility post-election, while negative values suggest greater stability. The visualization reveals whether certain platform categories are more reactive to political changes than others, and there are varying responses across platform types: in 2016, social platforms showed the highest median increase in policy changes, while in 2020 and 2024, patterns shifted with dating platforms showing notable variation. The box plots display median values (center line), quartile ranges (boxes), and outliers (individual points), providing insight into both typical and extreme responses within each category.</p>
            <h3 class="subheading">Platform Category Response to Election Periods</h3>
            <iframe src="visualizations/q4_html/group_distributions.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q4_top_changes" class="section section-viz">
            <h2>Q4 · Companies with Biggest Policy Changes</h2>
            <p>This ranked horizontal bar chart displays the top platforms by average policy change around each election year, with interactive dropdown selection for 2016, 2020, and 2024. Green bars indicate platforms with increased policy modification activity post-election (positive Δ), while red bars show platforms with decreased activity (negative Δ). In 2016, LinkedIn leads with the highest positive change, while platforms like WhatsApp and Bumble show negative values. The 2020 visualization shows Snapchat with the highest increase, and 2024 features varied platforms including "Online Dating & Hot Video Chat" at the top. Notably, 2016 reveals a clear split between platforms that increased policy updates and those that decreased them, in contrast to the more extensive and broadly consistent revisions observed after 2020 and 2024. This analysis identifies which specific platforms exhibited the most significant policy language shifts during critical electoral periods and provides insight into how different election years corresponded with distinct patterns of policy change.</p>
            <h3 class="subheading">Most Politically Responsive Platforms</h3>
            <iframe src="visualizations/q4_html/top_changes.html?v=3" class="visualization-frame"></iframe>
        </section>

        <!-- Q5 anchor -->
        <div id="q5"></div>

        <!-- Q5 SLIDES -->
        <section id="q5_quadrant" class="section section-viz">
            <h2>Q5 · Policy Spice Quadrant</h2>
            <p>This innovative quadrant analysis maps platforms based on their "spice level" - how user-friendly versus restrictive their policy language is. The x-axis measures restrictive language (arbitration clauses, data collection scope), while the y-axis tracks user-empowering language (control options, transparency commitments). Platforms in the top-left are "User Champions" (high rights, low restrictions), while bottom-right platforms are "Corporate Fortresses" (high restrictions, low user rights). This unique framework helps users quickly identify which platforms prioritize user interests versus corporate protection.</p>
            <h3 class="subheading">Spice Quadrant Analysis</h3>
            <iframe src="visualizations/q5_html/spice_quadrant.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q5_clause_prev" class="section section-viz">
            <h2>Q5 · Clause Prevalence</h2>
            <p>How often key clause types appear across platforms and cohorts.</p>
            <h3 class="subheading">Clause Prevalence Across Platforms</h3>
            <iframe src="visualizations/q5_html/clause_prevalence.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q5_spice_trends" class="section section-viz">
            <h2>Q5 · Spice Adoption Trends</h2>
            <p>Trends in the adoption of “spicy” (more restrictive) language over time.</p>
            <h3 class="subheading">Spice Adoption Delta</h3>
            <iframe src="visualizations/q5_html/spice_adoption_delta.html?v=3" class="visualization-frame"></iframe>
        </section>

        <!-- Q6 anchor -->
        <div id="q6"></div>

        <!-- Q6 SLIDES -->
        <section id="q6_doc_type_mix" class="section section-viz">
            <h2>Q6 · Document Type Distribution</h2>
            <p>This comparative analysis reveals how "Old School" platforms (pre-2010, like Facebook and Twitter) versus "New School" platforms (post-2010, like TikTok and Discord) structure their policy documentation. The chart shows the relative emphasis each cohort places on different document types: Terms of Service, Privacy Policies, and Community Guidelines. Notice how newer platforms often integrate policies more holistically, while older platforms tend to maintain more traditional, separate document structures. This reflects evolving approaches to user communication and legal organization.</p>
            <h3 class="subheading">Doc Type Mix by Cohort</h3>
            <iframe src="visualizations/q6_html/doc_type_mix.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q6_phrase_usage" class="section section-viz">
            <h2>Q6 · Phrase Usage Comparison</h2>
            <p>This comparative analysis examines how frequently specific key phrases appear in Old School versus New School platform policies. The chart reveals generational differences in policy language - older platforms may use more traditional legal terminology, while newer platforms might adopt more user-friendly or tech-forward language. Significant differences in phrase usage rates can indicate evolving industry standards and changing approaches to user communication.</p>
            <h3 class="subheading">Generational Language Differences</h3>
            <iframe src="visualizations/q6_html/phrase_rates_group.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q6_gap" class="section section-viz">
            <h2>Q6 · Policy Gap Analysis</h2>
            <p>This gap analysis pinpoints the specific areas where Old School and New School platforms differ most dramatically in their policy approaches. Large gaps indicate fundamental philosophical differences between platform generations - whether in user rights, data collection practices, content moderation, or legal protections. The visualization helps identify where the platform industry has evolved most significantly and where legacy approaches persist.</p>
            <h3 class="subheading">Biggest Generational Policy Differences</h3>
            <iframe src="visualizations/q6_html/phrase_gap.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q6_length_violin" class="section section-viz">
            <h2>Q6 · Policy Length Distribution</h2>
            <p>This violin plot shows the complete distribution of policy lengths within Old School and New School platform cohorts, revealing not just average lengths but also the range and clustering patterns. The shape of each violin indicates whether platforms in that cohort tend to cluster around similar lengths or show wide variation. This analysis helps determine if newer platforms have standardized on shorter, more accessible policies or if length variation persists across both generations.</p>
            <h3 class="subheading">Length Distribution Shape Analysis</h3>
            <iframe src="visualizations/q6_html/length_violin.html?v=3" class="visualization-frame"></iframe>
        </section>

        <section id="q6_length_time" class="section section-viz">
            <h2>Q6 · Length Evolution Over Time</h2>
            <p>This temporal comparison tracks how Old School versus New School platforms have expanded (or contracted) their policy lengths over time. The dual timeline reveals whether both cohorts follow similar growth patterns or if generational differences lead to divergent approaches to policy comprehensiveness. Notice key inflection points where regulatory events affected each cohort differently, potentially reflecting their different user bases, business models, and legal risk profiles.</p>
            <h3 class="subheading">Cohort-Specific Length Trends</h3>
            <iframe src="visualizations/q6_html/length_over_time.html?v=3" class="visualization-frame"></iframe>
        </section>

        <!-- Q7 anchor -->
        <div id="q7"></div>

        <!-- Q7 SLIDE -->
        <section id="q7_arbitration_count" class="section section-viz">
            <h2>Q7 · Arbitration Clauses</h2>
            <p>This analysis examines mandatory arbitration clauses - legal provisions that force users into private arbitration rather than allowing court lawsuits. The visualization shows both the prevalence of these clauses across platforms and their relative "severity" based on how restrictive the arbitration terms are. Platforms with darker colors impose more limiting arbitration requirements, effectively reducing users' legal options. This analysis helps users understand which platforms maintain stronger legal barriers to dispute resolution and user protection.</p>
            <h3 class="subheading">Arbitration Analysis</h3>
            <iframe src="visualizations/q7_html/arbitration_count.html?v=3" class="visualization-frame"></iframe>
        </section>

        <!-- Q7 SLIDE -->
        <section id="q7_arbitration_fig" class="section section-viz">
            <h2>Q7 · Arbitration Severity Analysis</h2>
            <p>This detailed breakdown examines not just which platforms include arbitration clauses, but how restrictive those clauses are in practice. The severity scoring considers factors like mandatory versus optional arbitration, class action waivers, fee structures, and location requirements. Platforms with higher severity scores create more significant barriers to user legal recourse, while lower scores indicate more user-friendly dispute resolution approaches.</p>
            <h3 class="subheading">Arbitration Restrictiveness Scale</h3>
            <iframe src="visualizations/q7_html/arbitration_figure.html?v=3" class="visualization-frame"></iframe>
        </section>

        <!-- Q8 anchor -->
        <div id="q8"></div>

        <!-- Q8 SLIDE -->
        <section id="q8_class_action" class="section section-viz">
            <h2>Q8 · Class Action Analysis</h2>
            <p>This temporal analysis tracks the adoption and evolution of class action waivers - clauses that prevent users from joining group lawsuits against platforms. The visualization shows how these user-restrictive clauses have become increasingly common since 2010, with most major platforms now including some form of class action limitation. The chart reveals industry-wide trends in legal risk management and highlights which platforms have resisted this trend versus those that have embraced stronger legal protections. Understanding these patterns helps users recognize their collective legal rights across different platforms.</p>
            <h3 class="subheading">Class Action Analysis</h3>
            <iframe src="visualizations/q8_html/index.html?v=3" class="visualization-frame"></iframe>
        </section>
    </div>
    </div> <!-- End desktop-only-content -->

    <!-- Floating next-slide chevron -->
    <button id="next-slide-btn" class="next-slide-btn">⌄</button>

    <!-- Footer -->
    <div class="footer">
        <p>&copy; 2025 Berkman Klein Center for Internet & Society - Transparency Hub Project</p>
        <p>DS594 Data Visualization • Harvard University</p>
    </div>

    <script>
    // All visualization "slides"
    const slides = Array.from(document.querySelectorAll('.section-viz'));
    const overview = document.getElementById('overview');
    const nextBtn = document.getElementById('next-slide-btn');

    // Next button behavior: always go to the next slide below the viewport;
    // if none, go back to overview
    nextBtn.addEventListener('click', () => {
        const threshold = 100; // px below top of viewport to consider "next"
        let target = null;

        for (const slide of slides) {
            const rect = slide.getBoundingClientRect();
            if (rect.top > threshold) {
                target = slide;
                break;
            }
        }

        if (target) {
            target.scrollIntoView({ behavior: 'smooth' });
        } else {
            // we’re past the last slide → go back to overview
            overview.scrollIntoView({ behavior: 'smooth' });
        }
    });

    // Scroll spy – highlight nav based on which viz/overview is visible
    const navLinks = document.querySelectorAll('.nav-item');
    const spySections = document.querySelectorAll('#overview, .section-viz');

    function questionKeyForSection(id) {
        if (id === 'overview') return 'overview';
        if (id.startsWith('q1_')) return 'q1';
        if (id.startsWith('q2_')) return 'q2';
        if (id.startsWith('q3_')) return 'q3';
        if (id.startsWith('q4_')) return 'q4';
        if (id.startsWith('q5_')) return 'q5';
        if (id.startsWith('q6_')) return 'q6';
        if (id.startsWith('q7_')) return 'q7';
        if (id.startsWith('q8_')) return 'q8';
        return null;
    }

    const spyObserver = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (!entry.isIntersecting) return;
            const key = questionKeyForSection(entry.target.id);
            if (!key) return;

            navLinks.forEach(link => {
                const href = link.getAttribute('href'); // e.g., "#q1"
                const navKey = href.replace('#', '');
                const isActive =
                    (key === 'overview' && navKey === 'overview') ||
                    (key !== 'overview' && navKey === key);

                link.classList.toggle('active', isActive);
            });
        });
    }, { threshold: 0.4 });

    spySections.forEach(sec => spyObserver.observe(sec));

    // Overview card fade-in
    const cardObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    });

    document.querySelectorAll('.overview-card').forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        cardObserver.observe(card);
    });

    // Fade-in for iframes when loaded
    document.addEventListener('DOMContentLoaded', function() {
        const iframes = document.querySelectorAll('.visualization-frame');
        iframes.forEach(iframe => {
            iframe.style.opacity = '0';
            iframe.style.transition = 'opacity 0.4s ease';
            iframe.addEventListener('load', function() {
                this.style.opacity = '1';
            });
        });
    });
</script>
</body>
</html>